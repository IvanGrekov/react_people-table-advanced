(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(21),o=a.n(l),r=a(4),s=a(1),i=(a(28),c.a.memo((function(){return c.a.createElement("nav",{className:"navigation"},c.a.createElement("ul",{className:"navigation__list"},c.a.createElement("li",{className:"navigation__item"},c.a.createElement(r.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"navigation__link--active"},"Home")),c.a.createElement("li",{className:"navigation__item"},c.a.createElement(r.c,{to:"/people",className:"navigation__link",activeClassName:"navigation__link--active"},"People"))))}))),m=(a(34),c.a.memo((function(){return c.a.createElement("h1",{className:"title"},"Home Page")}))),p=a(14),u=a(8),_=a.n(u);var b="https://mate-academy.github.io/react_people-table/api/people.json",h=a(18),d=a(9),f=a(11),E=c.a.memo((function(e){var t=e.fatherName,a=e.fatherSlug,n=Object(s.h)().search;return t&&a?c.a.createElement(f.a,{to:"/people/".concat(a).concat(n,"#").concat(a),className:"people-section__table-link"},t):t?c.a.createElement("span",{className:"people-section__table-lost-father"},t):"unknown"}));E.defaultProps={fatherName:"",fatherSlug:""};var N=c.a.memo((function(e){var t=e.motherName,a=e.motherSlug,n=Object(s.h)().search;return t&&a?c.a.createElement(f.a,{to:"/people/".concat(a).concat(n,"#").concat(a),className:"people-section__table-link"},t):t?c.a.createElement("span",{className:"people-section__table-lost-mother"},t):"unknown"}));N.defaultProps={motherName:"",motherSlug:""};var g=a(3),v=a.n(g),O=(v.a.shape({name:v.a.string.isRequired,sex:v.a.string.isRequired,born:v.a.number.isRequired,died:v.a.number,fatherName:v.a.string,motherName:v.a.string,slug:v.a.string.isRequired,father:v.a.object,mother:v.a.object}),c.a.memo((function(e){var t=e.person,a=e.selectedSlug,n=e.isEven,l=t.name,o=t.sex,r=t.born,i=t.died,m=t.fatherName,p=t.motherName,u=t.slug,b=t.father,h=t.mother,d=b?b.slug:"",g=h?h.slug:"",v=Object(s.h)().search;return c.a.createElement("tr",{id:u,className:_()("people-section__table-row",{"people-section__table-row--even":n,"people-section__table-row--highlight--m":a===u&&"m"===o,"people-section__table-row--highlight--f":a===u&&"f"===o})},c.a.createElement("td",{className:"people-section__table-cell"},c.a.createElement(f.a,{to:"/people/".concat(u).concat(v,"#").concat(u),className:"people-section__table-link"},l)),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},o),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},r),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},i),c.a.createElement("td",{className:_()("people-section__table-cell",{"people-section__table-cell--error":!m})},c.a.createElement(E,{fatherName:m,fatherSlug:d})),c.a.createElement("td",{className:_()("people-section__table-cell",{"people-section__table-cell--error":!p})},c.a.createElement(N,{motherName:p,motherSlug:g})))}))),j=c.a.memo((function(e){var t,a=e.people,n=e.selectedSlug,l=Object(s.g)(),o=Object(s.h)(),r=new URLSearchParams(o.search),i=r.get("sortBy")||"",m=r.get("sortOrder")||"",p=function(e){if(r.set("sortBy",e),r.set("sortOrder","asc"),e===i)switch(m){case"asc":r.set("sortOrder","desc");break;case"desc":r.delete("sortBy"),r.delete("sortOrder");break;default:r.set("sortOrder","asc")}return l.push({search:"".concat(r.toString())})},u=(t=function(){switch(i){case"name":return"desc"===m?Object(d.a)(a).sort((function(e,t){return t.name.localeCompare(e.name)})):Object(d.a)(a).sort((function(e,t){return e.name.localeCompare(t.name)}));case"sex":return"desc"===m?Object(d.a)(a).sort((function(e,t){return t.sex.localeCompare(e.sex)})):Object(d.a)(a).sort((function(e,t){return e.sex.localeCompare(t.sex)}));case"born":return"desc"===m?Object(d.a)(a).sort((function(e,t){return t.born-e.born})):Object(d.a)(a).sort((function(e,t){return e.born-t.born}));case"died":return"desc"===m?Object(d.a)(a).sort((function(e,t){return t.died-e.died})):Object(d.a)(a).sort((function(e,t){return e.died-t.died}));default:return a}}(),Object(d.a)(t).map((function(e){var a=t.find((function(t){return t.name===e.fatherName})),n=t.find((function(t){return t.name===e.motherName}));return Object(h.a)(Object(h.a)({},e),{},{father:a,mother:n})})));return c.a.createElement("table",{className:"people-section__table"},c.a.createElement("thead",{className:"people-section__table-head"},c.a.createElement("tr",{className:"people-section__table-head-row"},c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return p("name")}},"Name",c.a.createElement("span",{className:_()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"name"===i&&"asc"===m,"people-section__table-sort-icon--desc-sort":"name"===i&&"desc"===m})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return p("sex")}},"Sex",c.a.createElement("span",{className:_()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"sex"===i&&"asc"===m,"people-section__table-sort-icon--desc-sort":"sex"===i&&"desc"===m})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return p("born")}},"Born",c.a.createElement("span",{className:_()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"born"===i&&"asc"===m,"people-section__table-sort-icon--desc-sort":"born"===i&&"desc"===m})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return p("died")}},"Died",c.a.createElement("span",{className:_()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"died"===i&&"asc"===m,"people-section__table-sort-icon--desc-sort":"died"===i&&"desc"===m})})),c.a.createElement("th",{className:"people-section__table-subtitle"},"Father"),c.a.createElement("th",{className:"people-section__table-subtitle"},"Mother"))),c.a.createElement("tbody",{className:"people-section__table-body"},0!==u.length&&u.map((function(e,t){return c.a.createElement(O,{key:e.slug,person:e,selectedSlug:n||"not assigned",isEven:t%2===0})}))))}));j.defaultProps={people:[],selectedSlug:""};a(35);var w=c.a.memo(Object(s.i)((function(e){var t=e.match,a=Object(s.g)(),l=Object(s.h)(),o=new URLSearchParams(l.search),r=o.get("query")||"",i=Object(n.useState)([]),m=Object(p.a)(i,2),u=m[0],h=m[1],d=Object(n.useState)(r),f=Object(p.a)(d,2),E=f[0],N=f[1],g=Object(n.useState)(!1),v=Object(p.a)(g,2),O=v[0],w=v[1];Object(n.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fetch(b,e).then((function(e){return e.json()}))})().then(h)}),[]);var k=Object(n.useCallback)(function(e,t){var a;return function(){clearTimeout(a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];a=setTimeout.apply(void 0,[e,t].concat(c))}}((function(e,t){return t.set("query",e),""===e&&t.delete("query"),a.push({search:"".concat(t.toString())})}),500),[500]),S=u.filter((function(e){var t,a,n=r.toLowerCase();return e.name.toLowerCase().includes(n)||(null===(t=e.fatherName)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.motherName)||void 0===a?void 0:a.toLowerCase().includes(n))}));return c.a.createElement("section",{className:"people-section"},c.a.createElement("h2",{className:"people-section__title"},"People table"),c.a.createElement("div",{className:"people-section__search"},c.a.createElement("label",{htmlFor:"search-field",className:"people-section__search-label"},c.a.createElement("span",{className:"people-section__search-label-text"},"Find the person"),c.a.createElement("div",{className:_()("people-section__search-input-wrapper",{"people-section__search-input-wrapper--active":O})},c.a.createElement("input",{id:"search-field",className:"people-section__search-input",type:"text",placeholder:"Enter the name",value:E,onFocus:function(){w(!0)},onBlur:function(){w(!1)},onChange:function(e){N(e.target.value),k(e.target.value,o)}}),c.a.createElement("label",{htmlFor:"search-field",className:"people-section__search-icon"})))),c.a.createElement(j,{people:S,selectedSlug:t.params.slug}))}))),k=(a(36),c.a.memo((function(){return c.a.createElement("h1",{className:"not-found"},"Page not found")}))),S=(a(37),function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(i,null)),c.a.createElement("main",{className:"app__main"},c.a.createElement("div",{className:"app__content"},c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0},c.a.createElement(m,null)),c.a.createElement(s.b,{path:"/people/:slug?"},c.a.createElement(w,null)),c.a.createElement(s.a,{path:"/home",to:"/"}),c.a.createElement(k,null)))))});o.a.render(c.a.createElement(r.a,null,c.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.70ddeed4.chunk.js.map