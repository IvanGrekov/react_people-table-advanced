(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(21),o=a.n(l),r=a(6),s=a(1),i=(a(28),c.a.memo((function(){return c.a.createElement("nav",{className:"navigation"},c.a.createElement("ul",{className:"navigation__list"},c.a.createElement("li",{className:"navigation__item"},c.a.createElement(r.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"navigation__link--active"},"Home")),c.a.createElement("li",{className:"navigation__item"},c.a.createElement(r.c,{to:"/people",className:"navigation__link",activeClassName:"navigation__link--active"},"People"))))}))),m=(a(34),c.a.memo((function(){return c.a.createElement("h1",{className:"title"},"Home Page")}))),p=a(18),u=a(9),_=a(14),b=a(8),d=a.n(b);var h="https://mate-academy.github.io/react_people-table/api/people.json",f=a(11),E=c.a.memo((function(e){var t=e.fatherName,a=e.fatherSlug;return t&&a?c.a.createElement(f.a,{to:"/people/".concat(a,"#").concat(a),className:"people-section__table-link"},t):t?c.a.createElement("span",{className:"people-section__table-lost-father"},t):"unknown"}));E.defaultProps={fatherName:"",fatherSlug:""};var N=c.a.memo((function(e){var t=e.motherName,a=e.motherSlug;return t&&a?c.a.createElement(f.a,{to:"/people/".concat(a,"#").concat(a),className:"people-section__table-link"},t):t?c.a.createElement("span",{className:"people-section__table-lost-mother"},t):"unknown"}));N.defaultProps={motherName:"",motherSlug:""};var g=a(3),v=a.n(g),O=(v.a.shape({name:v.a.string.isRequired,sex:v.a.string.isRequired,born:v.a.number.isRequired,died:v.a.number,fatherName:v.a.string,motherName:v.a.string,slug:v.a.string.isRequired,father:v.a.object,mother:v.a.object}),c.a.memo((function(e){var t=e.person,a=e.selectedSlug,n=e.isEven,l=t.name,o=t.sex,r=t.born,s=t.died,i=t.fatherName,m=t.motherName,p=t.slug,u=t.father,_=t.mother,b=u?u.slug:"",h=_?_.slug:"";return c.a.createElement("tr",{id:p,className:d()("people-section__table-row",{"people-section__table-row--even":n,"people-section__table-row--highlight--m":a===p&&"m"===o,"people-section__table-row--highlight--f":a===p&&"f"===o})},c.a.createElement("td",{className:"people-section__table-cell"},c.a.createElement(f.a,{to:"/people/".concat(p,"#").concat(p),className:"people-section__table-link"},l)),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},o),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},r),c.a.createElement("td",{className:" people-section__table-cell people-section__table-cell--align "},s),c.a.createElement("td",{className:d()("people-section__table-cell",{"people-section__table-cell--error":!i})},c.a.createElement(E,{fatherName:i,fatherSlug:b})),c.a.createElement("td",{className:d()("people-section__table-cell",{"people-section__table-cell--error":!m})},c.a.createElement(N,{motherName:m,motherSlug:h})))}))),j=c.a.memo((function(e){var t=e.people,a=e.selectedSlug,n=Object(s.g)(),l=Object(s.h)(),o=new URLSearchParams(l.search),r=o.get("sortBy")||"",i=o.get("sortOrder")||"",m=function(e){var t=l.pathname,a=l.hash||"";if(o.set("sortBy",e),o.set("sortOrder","asc"),e===r)switch(i){case"asc":o.set("sortOrder","desc");break;case"desc":o.delete("sortBy"),o.delete("sortOrder");break;default:o.set("sortOrder","asc")}return n.replace("".concat(t,"?").concat(o.toString()).concat(a))},p=function(){switch(r){case"name":return"desc"===i?Object(u.a)(t).sort((function(e,t){return t.name.localeCompare(e.name)})):Object(u.a)(t).sort((function(e,t){return e.name.localeCompare(t.name)}));case"sex":return"desc"===i?Object(u.a)(t).sort((function(e,t){return t.sex.localeCompare(e.sex)})):Object(u.a)(t).sort((function(e,t){return e.sex.localeCompare(t.sex)}));case"born":return"desc"===i?Object(u.a)(t).sort((function(e,t){return t.born-e.born})):Object(u.a)(t).sort((function(e,t){return e.born-t.born}));case"died":return"desc"===i?Object(u.a)(t).sort((function(e,t){return t.died-e.died})):Object(u.a)(t).sort((function(e,t){return e.died-t.died}));default:return t}}();return c.a.createElement("table",{className:"people-section__table"},c.a.createElement("thead",{className:"people-section__table-head"},c.a.createElement("tr",{className:"people-section__table-head-row"},c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return m("name")}},"Name",c.a.createElement("span",{className:d()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"name"===r&&"asc"===i,"people-section__table-sort-icon--desc-sort":"name"===r&&"desc"===i})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return m("sex")}},"Sex",c.a.createElement("span",{className:d()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"sex"===r&&"asc"===i,"people-section__table-sort-icon--desc-sort":"sex"===r&&"desc"===i})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return m("born")}},"Born",c.a.createElement("span",{className:d()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"born"===r&&"asc"===i,"people-section__table-sort-icon--desc-sort":"born"===r&&"desc"===i})})),c.a.createElement("th",{className:"people-section__table-subtitle",onClick:function(){return m("died")}},"Died",c.a.createElement("span",{className:d()("people-section__table-sort-icon",{"people-section__table-sort-icon--asc-sort":"died"===r&&"asc"===i,"people-section__table-sort-icon--desc-sort":"died"===r&&"desc"===i})})),c.a.createElement("th",{className:"people-section__table-subtitle"},"Father"),c.a.createElement("th",{className:"people-section__table-subtitle"},"Mother"))),c.a.createElement("tbody",{className:"people-section__table-body"},0!==p.length&&p.map((function(e,t){return c.a.createElement(O,{key:e.slug,person:e,selectedSlug:a||"not assigned",isEven:t%2===0})}))))}));j.defaultProps={people:[],selectedSlug:""};a(35);var k=c.a.memo(Object(s.i)((function(e){var t=e.match,a=Object(n.useState)([]),l=Object(_.a)(a,2),o=l[0],r=l[1],i=Object(n.useState)(null),m=Object(_.a)(i,2),b=m[0],f=m[1],E=Object(n.useState)(!1),N=Object(_.a)(E,2),g=N[0],v=N[1];function O(e){var t=Object(u.a)(e).map((function(t){var a=e.find((function(e){return e.name===t.fatherName})),n=e.find((function(e){return e.name===t.motherName}));return Object(p.a)(Object(p.a)({},t),{},{father:a,mother:n})}));r(t)}Object(n.useEffect)((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fetch(h,e).then((function(e){return e.json()}))})().then(O)}),[]);var k=Object(s.g)(),w=Object(s.h)(),S=new URLSearchParams(w.search),C=S.get("query")||"";null===b&&f(C);var x=Object(n.useCallback)((function(e){var t=w.pathname,a=w.hash||"";return S.set("query",e),""===e&&S.delete("query"),k.replace("".concat(t,"?").concat(S.toString()).concat(a))}),[w,S,k]),y=Object(n.useCallback)(function(e,t){var a;return function(){clearTimeout(a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];a=setTimeout.apply(void 0,[e,t].concat(c))}}(x,500),[500]),P=o.filter((function(e){var t,a,n=C.toLowerCase();return e.name.toLowerCase().includes(n)||(null===(t=e.fatherName)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(a=e.motherName)||void 0===a?void 0:a.toLowerCase().includes(n))}));return c.a.createElement("section",{className:"people-section"},c.a.createElement("h2",{className:"people-section__title"},"People table"),c.a.createElement("div",{className:"people-section__search"},c.a.createElement("label",{htmlFor:"search-field",className:"people-section__search-label"},c.a.createElement("span",{className:"people-section__search-label-text"},"Find the person"),c.a.createElement("div",{className:d()("people-section__search-input-wrapper",{"people-section__search-input-wrapper--active":g})},c.a.createElement("input",{id:"search-field",className:"people-section__search-input",type:"text",placeholder:"Enter the name",value:b,onFocus:function(){v(!0)},onBlur:function(){v(!1)},onChange:function(e){f(e.target.value),y(e.target.value)}}),c.a.createElement("label",{htmlFor:"search-field",className:"people-section__search-icon"})))),c.a.createElement(j,{people:P,selectedSlug:t.params.slug}))}))),w=(a(36),c.a.memo((function(){return c.a.createElement("h1",{className:"not-found"},"Page not found")}))),S=(a(37),function(){return c.a.createElement("div",{className:"app"},c.a.createElement("header",null,c.a.createElement(i,null)),c.a.createElement("main",{className:"app__main"},c.a.createElement("div",{className:"app__content"},c.a.createElement(s.d,null,c.a.createElement(s.b,{path:"/",exact:!0},c.a.createElement(m,null)),c.a.createElement(s.b,{path:"/people/:slug?"},c.a.createElement(k,null)),c.a.createElement(s.a,{path:"/home",to:"/"}),c.a.createElement(w,null)))))});o.a.render(c.a.createElement(r.a,null,c.a.createElement(S,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.c3fd73ba.chunk.js.map